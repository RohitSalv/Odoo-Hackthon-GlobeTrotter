<app-header></app-header>
<div class="max-w-lg mx-auto p-4 bg-white shadow rounded mt-8">
  <h1 class="text-2xl font-semibold mb-6">Plan a New Trip</h1>

  <form [formGroup]="tripForm" (ngSubmit)="onSubmit()">
    <div class="mb-4">
      <label for="name" class="block mb-1 font-medium">Trip Name *</label>
      <input
        id="name"
        type="text"
        formControlName="name"
        class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
        [class.border-red-500]="tripForm.controls['name'].invalid && tripForm.controls['name'].touched"
      />
      <div *ngIf="tripForm.controls['name'].invalid && tripForm.controls['name'].touched" class="text-red-600 text-sm mt-1">
        Trip name is required.
      </div>
    </div>

    <div class="mb-4">
      <label for="description" class="block mb-1 font-medium">Description</label>
      <textarea
        id="description"
        formControlName="description"
        rows="3"
        class="w-full border border-gray-300 rounded px-3 py-2 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500"
      ></textarea>
    </div>

    <div class="mb-4">
      <label for="coverImageUrl" class="block mb-1 font-medium">Cover Image URL</label>
      <input
        id="coverImageUrl"
        type="url"
        formControlName="coverImageUrl"
        placeholder="https://fastly.picsum.photos/id/0/5000/3333.jpg?hmac=_j6ghY5fCfSD6tvtcV74zXivkJSPIfR9B8w34XeQmvU"
        class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
      />
    </div>

    <div class="mb-4 grid grid-cols-2 gap-4">
      <div>
        <label for="startDate" class="block mb-1 font-medium">Start Date *</label>
        <input
          id="startDate"
          type="date"
          formControlName="startDate"
          class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
          [class.border-red-500]="tripForm.controls['startDate'].invalid && tripForm.controls['startDate'].touched"
        />
        <div *ngIf="tripForm.controls['startDate'].invalid && tripForm.controls['startDate'].touched" class="text-red-600 text-sm mt-1">
          Start date is required.
        </div>
      </div>

      <div>
        <label for="endDate" class="block mb-1 font-medium">End Date *</label>
        <input
          id="endDate"
          type="date"
          formControlName="endDate"
          class="w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
          [class.border-red-500]="tripForm.controls['endDate'].invalid && tripForm.controls['endDate'].touched"
        />
        <div *ngIf="tripForm.controls['endDate'].invalid && tripForm.controls['endDate'].touched" class="text-red-600 text-sm mt-1">
          End date is required.
        </div>
      </div>
    </div>

    <div class="flex items-center justify-between">
      <button
        type="submit"
        [disabled]="loading"
        class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 disabled:opacity-50"
      >
        {{ loading ? 'Creating...' : 'Create Trip' }}
      </button>
    </div>

    <p *ngIf="error" class="text-red-600 mt-4">{{ error }}</p>
    <p *ngIf="success" class="text-green-600 mt-4">{{ success }}</p>
  </form>
</div>
